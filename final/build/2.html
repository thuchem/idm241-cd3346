<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>IDM241 - CHEM DUONG - FINAL - BUILD</title>
<style>
  body {
    font-family: Arial, sans-serif;
    margin: 0;
    padding: 0;
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
    background-color: #f0f0f0;
  }




  .carousel-container {
    overflow-x: auto;
    padding-left: 55px;
    padding-right: 55px;
    padding-bottom: 29px;
    width: calc(100% - 55px); /* Updated width */
}




.rectangle {
position: relative;
margin-right: 10px;
flex: 0 0 auto;
cursor: pointer;
transition: background-color 0.3s;
border-radius: 15px;
overflow: hidden;
transition: transform 0.5s ease; /* Smooth transition */
}




.rectangle:hover {
transform: scale(1.03); /* Increase the size by 10% on hover */
}








  .rectangle input[type="radio"] {
    width: 100%;
    height: 100%;
    opacity: 0;
    position: absolute;
    top: 0;
    left: 0;
  }




   .rectangle:checked {
    background-color: #66bb6a;
    opacity: 1;
  }




  .popup-container {
    position: absolute;
    padding-top: 5rem;
    padding-bottom: 18rem;
    top: 0;
    bottom: 5vw;
    left: 0;
    width: 100%;
    height: 100%;
    display: none;
    overflow-y: auto;
    transition: opacity 0.3s ease;
  }




  .popup {
    position: relative;
    left: 50%;
    transform: translateX(-50%);
    width: 90vw;
    height: 121vh;
    margin-bottom: 10rem;
    padding: 20px;
    background-color: #fff;
    overflow-y: scroll;
    border-radius: 15px;
  }




  .popup-close {
    position: fixed;
    top: 10px;
    right: 10px;
    cursor: pointer;
    background-color: #333;
    color: #fff;
    padding: 10px;
    border: none;
    border-radius: 10px;
    z-index: 3;
    display:flex;
    align-items: center;
    justify-content: center;
  }




.popup-trigger {
position: absolute;
bottom: 1rem;
right: 1rem;
cursor: pointer;
background-color: #333;
color: #fff;
padding: 0.8rem;
border: none;
width: 1rem;
height: 1rem;
border-radius: 50%;
z-index: 2;
display: flex;
align-items: center;
justify-content: center;
font-size: 1.8rem;
color:#d1d1d1;
}












.backdrop {
position: fixed;
top: 0;
left: 0;
width: 100%;
height: 100%;
background: rgba(0, 0, 0, 0.4);
backdrop-filter: blur(20px);
display: none;
z-index: 2; }




.popup-container {
position: absolute;
padding-top: 5rem;
padding-bottom: 18rem;
top: 0;
bottom: 5vw;
left: 0;
width: 100%;
height: 100%;
display: none;
overflow-y: auto;
z-index: 3;
}




@media only screen and (min-width: 330px) and (max-width: 599px) {
/* For phones to tablets */
.rectangle {
  width: calc((100% - 20px) / 1.5); /* Show 1.5 rectangles */
  height: 70vh;
}
}




@media only screen and (min-width: 600px) and (max-width: 1025px) {
/* For tablets */
.rectangle {
  width: calc((100% - 20px) / 2.5); /* Show 2.5 rectangles */
  height: 70vh;
}
}




@media only screen and (min-width: 1025px) {
/* For desktop */
.rectangle {
  width: calc((100% - 20px) / 3.5); /* Show 3.5 rectangles */
  height: 70vh;
}
}




.carousel-container {
  width: 100%;
  overflow-x: auto;
  white-space: nowrap;
}




.carousel {
  display: flex;
}




/* Nav buttons container */
.nav-buttons-container{
position:absolute;
right:21px;
bottom:16px;
transform:translatex(0px) translatey(0px);
}




.nav-button {
  cursor: pointer;
  background-color: #333;
  color: #fff;
  padding: 0.5rem;
  border: none;
  border-radius: 50%;
  z-index: 2;
  margin: 0 5px; /* Adjust the margin as needed */
  font-size: 1.2rem;
}




/* Nav button */
.nav-buttons-container .nav-button{
width:3em !important;
height:3em !important;
}




.carousel-container .carousel{
margin-bottom:85px;
margin-top:85px;
}




.carousel-container .carousel .nav-buttons-container{
top:768px;
position:fixed;
left:1334px;
}
/* Rectangle */
.carousel-container .carousel > .rectangle{
border-top-left-radius:30px;
border-top-right-radius:30px;
border-bottom-left-radius:30px;
border-bottom-right-radius:30px;
margin-left:26px;
}




@media (min-width:1025px){




/* Rectangle */
.carousel-container .carousel > .rectangle{
width:382px;
height:701px;
}
}




.carousel-container .carousel span{
padding-left:55px;
}
@media (min-width:330px){




/* Rectangle */
.carousel-container .carousel > .rectangle{
min-width:274px;
min-height:0px;
max-height:453px;
}




}




@media (min-width:420px){




/* Rectangle */
.carousel-container .carousel > .rectangle{
min-width:300px;
min-height:300px;
max-height:650px;
}




}




@media (min-width:1025px){




/* Rectangle */
.carousel-container .carousel > .rectangle{
max-height:700px;
}




}




@media (min-width:1292px){




/* Rectangle */
.carousel-container .carousel > .rectangle{
max-height:639px;
}




}




/* Popup */
#popup{
border-top-left-radius:30px;
border-top-right-radius:30px;
border-bottom-left-radius:30px;
border-bottom-right-radius:30px;
padding-left:50px;
padding-right:50px;
padding-top:50px;
padding-bottom:50px;
width:1115px;
height:fit-content;
margin-bottom:143px;
margin-top:-28px;
overflow:hidden;
}




/* Span Tag */
#popup-container span{
top:76px;
right:178px;
position:fixed;
border-top-left-radius:50%;
border-top-right-radius:50%;
border-bottom-left-radius:50%;
border-bottom-right-radius:50%;
width:1em;
height:1em;
}




/* Popup container */
#popup-container{
padding-bottom:0px;
}




.rectangle-image {
position: absolute;
top: 0;
left: 0;
width: 100%;
height: 100%;
background-size: cover;
background-position: center;
z-index: -1; /* Send it to the back */
}




.carousel .rectangle .popup-trigger{
width:0.5em;
height:0.5em;
}




/* Nav button */
.carousel .nav-button{
background-color:#aaaaaa;
color:#000000;
font-weight:600;
padding-left:0px;
padding-right:0px;
padding-top:0px;
padding-bottom:0px;
}




/* Nav button */
.carousel .nav-button{
width:40px !important;
height:40px !important;
font-size:23px;
background-color:#c6c6c6;
color:#7c7c7c;
font-weight:500;
}




/* Nav buttons container */
.carousel-container .carousel .nav-buttons-container{
left:1350px;
}




.popup-content img {
max-width: 100%; /* Ensure the image doesn't exceed the container width */
height: auto; /* Maintain the aspect ratio */
display: block; /* Remove any default inline spacing */
margin: 0 auto; /* Center the image horizontally */
border-radius: 10px; /* Add rounded corners if desired */
}




#popup img{
padding-top:116px;
}




/* Heading */
#popup h2{
color:#4c4c4c;
font-weight:500;
font-size:21px;
}




/* Heading */
#popup h1{
font-size:48px;
line-height:25.3px;
color:#4c4c4c;
}




/* Image */
#popup img{
padding-top:41px;
}




/* Popup */
#popup{
padding-left:80px;
padding-right:80px;
padding-top:80px;
padding-bottom:90px;
}




/* Span Tag */
#popup-container span{
right:146px;
top:75px;
}




/* Heading */
#popup h3{
text-align:left;
line-height:35px;
font-size:25px;
padding-left:150px;
padding-right:97px;
color:#878787;
letter-spacing:0.2px;
margin-top:64px;
margin-bottom:1px;
}




/* Heading */
h4{
position:absolute;
top:-29px;
left:82px;
font-size:58px !important;
}




.carousel-container .carousel{
padding-top:126px;
}




/* Rectangle */
.carousel-container .carousel > .rectangle{
top:-21px;
}




@media (min-width:1025px){




/* Rectangle */
.carousel-container .carousel > .rectangle{
width:356px;
}
}




@media (min-width:1292px){




/* Rectangle */
.carousel-container .carousel > .rectangle{
max-height:584px;
}
}


.carousel-container .carousel .nav-buttons-container{
position:absolute;
}


/* Popup trigger (hover) */
.carousel .rectangle .popup-trigger:hover{
color:#ffffff;
}


.carousel .rectangle .popup-trigger{
transition: color 0.3s;
}


/* Nav button (hover) */
.carousel .nav-button{
 transition: background-color 0.3s;
}


/* Nav button (hover) */
.carousel .nav-button:hover{
background-color:#dddddd;
}


/* Nav button (active) */
.carousel .nav-button{
 transition: background-color 0.3s;
}


/* Nav button (active) */
.carousel .nav-button:active{
background-color:#bfbfbf;
}




@media (min-width:1292px){

/* Nav buttons container */
.carousel-container .carousel .nav-buttons-container{
 position:sticky;
 min-height:74px;
 height:74px;
 top:516px;
 left:87px;
 transform:translatex(-44px) translatey(298px);
}

/* Nav button */
.carousel .nav-button{
 position:sticky;
}

}

@media (min-width:1025px){

/* Rectangle */
.carousel-container .carousel > .rectangle{
 height:582px;
}

/* Carousel */
.carousel-container .carousel{
 padding-top:79px;
 margin-bottom:88px;
}

/* Heading */
h4{
 font-size:50px !important;
}

/* Nav buttons container */
.carousel-container .carousel .nav-buttons-container{
 position:sticky;
 height:0px;
 top:629px;
 left:1000px;
 transform:translatex(-46px) translatey(143px);
}

}

@media (min-width:1025px){

/* Nav buttons container */
.carousel-container .carousel .nav-buttons-container{
 transform:translatex(-44px) translatey(140px);
 position:sticky;
 left:860px;
}

}

@media (min-width:1246px){

/* Nav buttons container */
.carousel-container .carousel .nav-buttons-container{
 transform:translatex(15px) translatey(147px);
}

}

@media (min-width:1025px){

/* Nav buttons container */
.carousel-container .carousel .nav-buttons-container{
 position:sticky;
}

}

@media (min-width:1099px){

/* Nav buttons container */
.carousel-container .carousel .nav-buttons-container{
 transform:translatex(-41px) translatey(147px);
 position:sticky;
 top:629px;
 left:569px;
}

}

@media (min-width:1025px){

/* Nav buttons container */
.carousel-container .carousel .nav-buttons-container{
 transform:translatex(-42px) translatey(145px);
 left:824px;
}

}

@media (min-width:1025px){

/* Nav buttons container */
.carousel-container .carousel .nav-buttons-container{
 transform:translatex(-40px) translatey(137px);
 left:775px;
}

}

@media (min-width:1064px){

/* New created breakpoint. */

}

@media (min-width:420px){

/* Nav buttons container */
.carousel-container .carousel .nav-buttons-container{
 position:sticky;
 height:0px;
 transform:translatex(-40px) translatey(51px);
 left:65px;
}

}

/* Nav buttons container */
.carousel-container .nav-buttons-container{
 transform:translatex(-44px) translatey(-38px);
}

/* Nav button */
.carousel-container .nav-button{
 background-color:#bcbcbc;
 width:2em !important;
 height:2em !important;
 color:#000000;
}

/* Nav button (hover) */
.carousel-container .nav-button:hover{
 background-color:#dddddd;
 color:#000000;
}

/* Nav button (active) */
.carousel-container .nav-button:active{
 color:#000000;
}

@media (min-width:321px){

/* Heading */
h4{
 font-size:29px !important;
 transform:translatex(-45px) translatey(26px);
}

}

@media (min-width:330px){

/* Heading */
h4{
 font-size:31px !important;
 left:78px;
 top:4px;
}

/* Carousel */
.carousel-container .carousel{
 position:relative;
 left:-27px;
 top:-77px;
}

/* Rectangle */
.carousel-container .carousel > .rectangle{
 margin-left:2px;
}

/* Nav buttons container */
.carousel-container .nav-buttons-container{
 top:684px;
}


}

@media (min-width:420px){

/* Heading */
h4{
 font-size:40px !important;
 left:75px;
 top:-8px;
 transform:translatex(-19px) translatey(-4px);
}

/* Nav buttons container */
.carousel-container .nav-buttons-container{
 transform:translatex(-42px) translatey(61px);
}

/* Carousel */
.carousel-container .carousel{
 position:relative;
 left:-25px;
 transform:translatex(27px) translatey(54px);
 margin-bottom:86px;
}

}

@media (min-width:1025px){

/* Heading */
h4{
 font-size:47px !important;
}

/* Carousel */
.carousel-container .carousel{
 transform:translatex(27px) translatey(82px);
}

/* Nav buttons container */
.carousel-container .nav-buttons-container{
 transform:translatex(-39px) translatey(72px);
}

}

@media (min-width:1099px){

/* Heading */
h4{
 font-size:50px;
}

}

@media (min-width:1246px){

/* Heading */
h4{
 font-size:50px;
}

}

@media (min-width:1292px){

/* Heading */
h4{
 font-size:50px;
}

}

@media (min-width:330px) and (max-width:420px) {

/* Rectangle */
.carousel-container .carousel > .rectangle{
 max-height:650px;
}

/* Carousel */
.carousel-container .carousel{
 transform:translatex(0px) translatey(48px);
}

/* Heading */
h4{
 top:-8px;
}

/* Nav buttons container */
.carousel-container .nav-buttons-container{
 transform:translatex(-42px) translatey(70px);
 height:46px;
}

}

.carousel-container .nav-buttons-container{
  top:80vh;
 }

 h4{
  font-size:4.2vh;
 }
 

 .carousel-container .carousel > .rectangle{
  max-height:60vh;
 }
 
 /* Heading */
 h4{
  font-size:5vh;
 }

body {
 overflow-x: hidden;
}

.carousel-container::-webkit-scrollbar {
  display: none;
}

/* Box */
.box{
 position:absolute;
 transform:translatex(23px) translatey(734px);
 background-color:#000000;
 color:#ffffff;
 width:1026px;
 padding-left:51px;
 padding-top:42px;
 padding-bottom:15px;
}

/* Paragraph */
.box p{
 position:static;
}

 

.box{
 width:80vw;
}

/* H7 */
.box h7{
 font-size:41px;
 font-weight:600;
}

/* Box */
.box{
 display:inline-block;
 float:none;
 align-self:center;
}

/* Box */
.box{
 padding-left:51px;
 padding-right:51px;
 align-self:center;
 width:auto;
 transform:translatex(68px) translatey(715px);
 top:143px;
 bottom:auto !important;
 left:38px;
 right:38px;
}

/* Box */
.box{
 width:100%;
 left:0px;
 right:0px;
 margin-top: 3vh;
 transform:translatex(-4px) translatey(683px);
 background-color:#000000;
}

/* Paragraph */
.box p{
 font-size:24px;
 line-height:21px;
}

/* Box */
.box{
 top:0;;
}

/* Box */
.box{
 display:grid;
}

/* Heading */
.box h4{
 position:static;
 margin-bottom:4px;
 margin-left:17px;
 margin-top:13px;
}

/* Paragraph */
.box p{
 width:90%;
}

@media (min-width:330px) and (max-width:420px) {

/* Heading */
.box h4{
 position:relative;
 top:-41px;
 left:30px;
}

}

/* Paragraph */
.box p{
 line-height:1.2em;
}

/* Heading */
.box h4{
 padding-top:78px;
 color:#ffffff;
 font-weight:700;
}

/* Box */
.box{
 padding-top:0px;
 padding-bottom:79px;
}

@media (min-width:1292px){

 /* Heading */
 .box h4{
  font-size:84px !important;
 }
 
}

@media (min-width:330px){

/* Heading */
.box h4{
 font-size:60px !important;
}

}

@media (min-width:420px){

/* Heading */
.box h4{
 font-size:70px !important;
}

}

@media (min-width:1025px){

/* Heading */
.box h4{
 font-size:77px !important;
}

}

@media (min-width:1099px){

/* Heading */
.box h4{
 font-size:80px !important;
}

}

@media (min-width:1246px){

/* Heading */
.box h4{
 font-size:80px !important;
}

}

/* Heading */
.box .subtext h3{
 text-align:left;
 font-size:42px;
}

/* Microinteractiongif */
#microinteractiongif{
 width:58vw;
 max-width:0px;
}

/* Image */
#microinteractiongif img{
 width:70vw;
}

/* Heading */
.box .subtext h3:nth-child(1){
 color:#ffffff;
}

/* Link */
.subtext h3 a{
 color:#ffffff;
}

/* Box */
.box{
 background-color:transparent;
 color:#000000;
}

/* Heading */
.box h4{
 color:#000000;
}

/* Link */
.subtext h3 a{
 color:#000000;
}



</style>
</head>
<body>


<h4>Get to know Mac.</h4>




<div class="carousel-container">




<div class="carousel">
  <div class="rectangle">
    <input type="radio" class="rectangle" name="rect" id="rect1">
    <label for="rect1" class="rectangle-label"></label>
    <div class="popup-trigger" onclick="openPopup()">+</div>
    <div class="rectangle-image" style="background-image: url('img/apple1.jpeg');"></div>
  </div>
  <div class="rectangle">
    <input type="radio" class="rectangle" name="rect" id="rect2">
    <label for="rect2" class="rectangle-label"></label>
    <div class="popup-trigger" onclick="openPopup()">+</div>
    <div class="rectangle-image" style="background-image: url('img/apple2.jpeg');"></div>
  </div>
  <div class="rectangle">
    <input type="radio" class="rectangle" name="rect" id="rect3">
    <label for="rect3" class="rectangle-label"></label>
    <div class="popup-trigger" onclick="openPopup()">+</div>
    <div class="rectangle-image" style="background-image: url('img/apple3.jpeg');"></div>
  </div>
  <div class="rectangle">
    <input type="radio" class="rectangle" name="rect" id="rect4">
    <label for="rect4" class="rectangle-label"></label>
    <div class="popup-trigger" onclick="openPopup()">+</div>
    <div class="rectangle-image" style="background-image: url('img/apple4.jpeg');"></div>
  </div>
  <div class="rectangle">
    <input type="radio" class="rectangle" name="rect" id="rect5">
    <label for="rect5" class="rectangle-label"></label>
    <div class="popup-trigger" onclick="openPopup()">+</div>
    <div class="rectangle-image" style="background-image: url('img/apple5.jpeg');"></div>
  </div>
  <div class="rectangle">
    <input type="radio" class="rectangle" name="rect" id="rect6">
    <label for="rect6" class="rectangle-label"></label>
    <div class="popup-trigger" onclick="openPopup()">+</div>
    <div class="rectangle-image" style="background-image: url('img/apple6.jpeg');"></div>
  </div>
  <div class="rectangle">
    <input type="radio" class="rectangle" name="rect" id="rect7">
    <label for="rect7" class="rectangle-label"></label>
    <div class="popup-trigger" onclick="openPopup()">+</div>
    <div class="rectangle-image" style="background-image: url('img/apple7.jpeg');"></div>
</div>
 <span class="right=pad"></span>


</div>

<div class="nav-buttons-container">
  <button class="nav-button" onclick="moveRectangles('left')"> &lt; </button>
  <button class="nav-button" onclick="moveRectangles('right')"> &gt; </button>
</div>

</div>




<div class="backdrop" id="backdrop"></div>




<div class="popup-container" id="popup-container">
<span class="popup-close" onclick="closePopup()">X</span>
<div id="popup" class="popup">
  <div class="popup-content">
    <h2>Getting Started</h2>
    <h1>Easy to use. Easy to love.</h1>
    <h3>Familiar as iPhone. You’ll feel right at home on Mac, with many of the same apps as iPhone — like Messages, Photos, Notes, and FaceTime.</h3>
    <img src="img/apple-popup.jpeg" alt="Popup Image">
    <h3>Fully loaded. Get started with apps you’ll use every day, like Mail, Calendar, and Safari for surfing the web. And if you want to create documents, spreadsheets, or presentations, there are powerful built-in productivity apps like Pages, Numbers, and Keynote.</h3>
    <img src="img/apple-popup2.jpeg" alt="Popup Image">
    <h3>Simple setup. Migration Assistant makes it easy to transfer your data — including documents, photos, settings, and user accounts — from your previous Mac or PC.</h3>
    <img src="img/apple-popup3.jpeg" alt="Popup Image">
  </div>
</div>
</div>

<div class="box">
  <h4>Triggers</h4>
        <p>Scroll: When users scroll horizontally back and forth through the page, cursor must be on the carousel's region</p>
        <p>Hover-on section</p>
        <p>Hover-off section</p>
        <p>Click section</p>
        <p>Hover-on + button</p>
        <p>Hover-off + button</p>
        <p>Click + button</p>
        <p>Hover-on x button</p>
        <p>Hover-off x button</p>
        <p>Click x button</p>
        <p>Hover-on > < button</p>
        <p>Hover-off > < button</p>
        <p>Click > < button</p>
  <h4>Rules</h4>
  <p>Scroll: The sections will move to the left or right on-scroll based on the scrolling direction. When reach the right/left end, the >/< button background and icon become light grey </p>
  <p>Hover-on section: The section will gradually increase the size, cursor changes to pointer</p>
  <p>Hover-off section:The section will gradually decrease the size back to default size, cursor changes to arrow</p>
  <p>Click section: New window gradually pop-up</p>
  <p>Hover-on +/x button: The +/x icon gradually change from light grey to white</p>
  <p>Hover-off +/x button: The +/x icon gradually change from white back to light grey</p>
  <p>Click +/x button: New window gradually pop-up</p>
  <p>Hover-on x button: The x icon gradually change from light grey to white</p>
  <p>Hover-off x button: The x icon gradually change from white back to light grey</p>
  <p>Click x button: Deatail window gradually close</p>
  <p>Hover-on > < button: The background of the button changes to lighter grey</p>
  <p>Hover-off > < button: The background of the button changes back to default grey</p>
  <p>Click > < button: The section will move each by each depend on the direction of the button</p>
  <p>Click outside the pop-up window: The window is gradually closed</p>
  <h4>Feedbacks</h4>
      <p>Scroll: The sections will move to the left or right on-scroll based on the scrolling direction. When reach the right/left end, the >/< button background and icon become light grey </p>
      <p>Hover-on section: The section will gradually increase the size, cursor changes to pointer</p>
      <p>Hover-off section:The section will gradually decrease the size back to default size, cursor changes to arrow</p>
      <p>Click section: New window gradually pop-up</p>
      <p>Hover-on +/x button: The +/x icon gradually change from light grey to white</p>
      <p>Hover-off +/x button: The +/x icon gradually change from white back to light grey</p>
      <p>Click +/x button: New window gradually pop-up</p>
      <p>Hover-on x button: The x icon gradually change from light grey to white</p>
      <p>Hover-off x button: The x icon gradually change from white back to light grey</p>
      <p>Click x button: Deatail window gradually close</p>
      <p>Hover-on > < button: The background of the button changes to lighter grey</p>
      <p>Hover-off > < button: The background of the button changes back to default grey</p>
      <p>Click > < button: The section will move each by each depend on the direction of the button</p>
      <p>Click outside the pop-up window: The window is gradually closed</p>
      <h4>Loops & Modes</h4>
        <p>There’s no loops</p>
        <p>Click-on section mode: New window have the detail content of the section gradually pop-up</p>
        <p>Click + button: New window have the detailed content of the section gradually pop-up</p>
        <div class="subtext">
          <h3><a href="https://www.apple.com/mac/" target="_blank">EXISTING MICROINTERACTION</a></h3>
          <h3>SCROLL</h3>
          <div id="microinteractiongif">
            <img src="img/scroll4.gif" alt="GIF">
          </div>
          <h3>SECTION</h3>
          <div id="microinteractiongif">
            <img src="img/section.gif" alt="GIF">
          </div>
          <h3>X BUTTON</h3>
          <div id="microinteractiongif">
            <img src="img/X-BUTTON-2.gif" alt="GIF">
          </div>
          <h3>+ BUTTON</h3>
          <div id="microinteractiongif">
            <img src="img/+BUTTON-2.gif" alt="GIF">
          </div>
          <h3><> BUTTON</h3>
          <div id="microinteractiongif">
            <img src="img/__BUTTON 3_compressed.gif" alt="GIF">
          </div>
</div>
<script>
document.addEventListener('DOMContentLoaded', function () {
  const rectanglesContainer = document.querySelector('.carousel-container');
  const rectangles = document.querySelectorAll('.rectangle');
  const navButtons = document.querySelectorAll('.nav-button');
  const popupContainer = document.getElementById('popup-container');
  const backdrop = document.getElementById('backdrop');

  let currentIndex = 0;

  // Set initial opacity for the left button
  navButtons[0].style.opacity = 0.3;

  rectangles.forEach((rectangle, index) => {
    rectangle.addEventListener('click', (event) => {
      event.stopPropagation();
      showPopup(index + 1);
    });
  });

  function showPopup(index) {
    popupContainer.style.display = 'block';
    backdrop.style.display = 'block';
    document.body.classList.add('no-scroll');
    document.getElementById(`rect${index}`).checked = true;
    currentIndex = index - 1;

    document.addEventListener('click', closePopupOutside);
  }

  function openPopup() {
    popupContainer.style.display = 'block';
    backdrop.style.display = 'block';
  }

  function closePopup() {
    rectangles.forEach(rectangle => {
      rectangle.checked = false;
    });
    popupContainer.style.display = 'none';
    backdrop.style.display = 'none';
    document.body.classList.remove('no-scroll');
  }

  function moveRectangles(direction) {
    const rectWidth = rectangles[0].offsetWidth + 5;
    const maxScrollLeft = rectanglesContainer.scrollWidth - rectanglesContainer.clientWidth;

    if (direction === 'left') {
      rectanglesContainer.scrollTo({
        left: rectanglesContainer.scrollLeft - rectWidth,
        behavior: 'smooth'
      });
    } else if (direction === 'right') {
      rectanglesContainer.scrollTo({
        left: rectanglesContainer.scrollLeft + rectWidth,
        behavior: 'smooth'
      });
    }

    // Update button opacity immediately based on scroll position
    updateButtonOpacity(rectanglesContainer.scrollLeft, maxScrollLeft);
  }

  function updateButtonOpacity(scrollLeft, maxScrollLeft) {
    const opacity = 0.3;
    const transitionDuration = '0.3s';

    if (scrollLeft <= 0) {
      navButtons[0].style.opacity = opacity;
      navButtons[0].style.transition = `opacity ${transitionDuration}`;
    } else {
      navButtons[0].style.opacity = 1;
      navButtons[0].style.transition = `opacity ${transitionDuration}`;
    }

    if (scrollLeft >= maxScrollLeft) {
      navButtons[1].style.opacity = opacity;
      navButtons[1].style.transition = `opacity ${transitionDuration}`;
    } else {
      navButtons[1].style.opacity = 1;
      navButtons[1].style.transition = `opacity ${transitionDuration}`;
    }
  }

  document.addEventListener('click', function (event) {
    if (!popup.contains(event.target) && !event.target.classList.contains('rectangle')) {
      closePopup();
    }
  });

  // Add event listeners to the navigation buttons
  navButtons[0].addEventListener('click', function () {
    moveRectangles('left');
  });

  navButtons[1].addEventListener('click', function () {
    moveRectangles('right');
  });
});

</script>








</body>
</html>













